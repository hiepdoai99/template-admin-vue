{"remainingRequest":"/Users/nguyenxuanhiep/Downloads/vue-argon-dashboard-main/node_modules/babel-loader/lib/index.js!/Users/nguyenxuanhiep/Downloads/vue-argon-dashboard-main/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nguyenxuanhiep/Downloads/vue-argon-dashboard-main/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/nguyenxuanhiep/Downloads/vue-argon-dashboard-main/src/views/Signin.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"/Users/nguyenxuanhiep/Downloads/vue-argon-dashboard-main/src/views/Signin.vue","mtime":1695202434266},{"path":"/Users/nguyenxuanhiep/Downloads/vue-argon-dashboard-main/babel.config.js","mtime":1653641202000},{"path":"/Users/nguyenxuanhiep/Downloads/vue-argon-dashboard-main/node_modules/cache-loader/dist/cjs.js","mtime":1695178833977},{"path":"/Users/nguyenxuanhiep/Downloads/vue-argon-dashboard-main/node_modules/babel-loader/lib/index.js","mtime":1695178834988},{"path":"/Users/nguyenxuanhiep/Downloads/vue-argon-dashboard-main/node_modules/cache-loader/dist/cjs.js","mtime":1695178833977},{"path":"/Users/nguyenxuanhiep/Downloads/vue-argon-dashboard-main/node_modules/vue-loader-v16/dist/index.js","mtime":1695178834970}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgJGF4aW9zIH0gZnJvbSAnLi4vdXRpbHMvcmVxdWVzdCc7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgc3RvcmUgZnJvbSAnLi4vc3RvcmUvc3RvcmUnOwppbXBvcnQgeyByZWYsIHJlYWN0aXZlIH0gZnJvbSAidnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIHNldHVwKF9fcHJvcHMsIHsKICAgIGV4cG9zZQogIH0pIHsKICAgIGV4cG9zZSgpOwogICAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgICBjb25zdCBmb3JtU3RhdGUgPSByZWFjdGl2ZShzdG9yZS5zdGF0ZS5yZWdpc3RlckZvcm1TdGF0ZSk7CiAgICBsZXQgZXJyb3IgPSByZWYoZmFsc2UpOwogICAgbGV0IHVzZXJkYXRhID0gcmVmKCk7CiAgICBjb25zdCBoYW5kbGVMb2dpbiA9ICgpID0+IHsKICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKICAgICAgaWYgKHRva2VuKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7CiAgICAgICAgcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICB9CiAgICAgICRheGlvcy5wb3N0KCdsb2dpbicsIHsKICAgICAgICBlbWFpbDogZm9ybVN0YXRlLmVtYWlsLAogICAgICAgIHBhc3N3b3JkOiBmb3JtU3RhdGUucGFzc3dvcmQKICAgICAgfSkudGhlbihkYXRhID0+IHsKICAgICAgICBpZiAoZGF0YS5kYXRhLmFjY2Vzc190b2tlbikgewogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgZGF0YS5kYXRhLmFjY2Vzc190b2tlbik7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIEpTT04uc3RyaW5naWZ5KGRhdGEuZGF0YS51c2VyKSk7CiAgICAgICAgICB1c2VyZGF0YS52YWx1ZSA9IGRhdGEuZGF0YS51c2VyOwogICAgICAgICAgc3RvcmUuc3RhdGUudXNlckxvZ2luRGF0YSA9IGRhdGEuZGF0YS51c2VyOwogICAgICAgICAgJGF4aW9zLmdldChgL3VzZXIvJHt1c2VyZGF0YS52YWx1ZS5pZH0/aW5jbHVkZT1yb2xlcyxwZXJtaXNzaW9uc2ApLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgIHN0b3JlLnN0YXRlLnVzZXJMb2dpblJvbGUgPSBkYXRhLmRhdGEuZGF0YS5yb2xlc1swXS5uYW1lOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbG9naW5Sb2xlJywgc3RvcmUuc3RhdGUudXNlckxvZ2luUm9sZSk7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwZXJtaXNzaW9ucycsIEpTT04uc3RyaW5naWZ5KGRhdGEuZGF0YS5kYXRhLnBlcm1pc3Npb25zKSk7CiAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncm9sZS1hZGRlZCcsIHsKICAgICAgICAgICAgICBkZXRhaWw6IHsKICAgICAgICAgICAgICAgIHN0b3JhZ2U6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2dpblJvbGUnKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkpOwogICAgICAgICAgfSk7CiAgICAgICAgICAkYXhpb3MuZ2V0KGAvZ2V0LXRlYW1gKS50aGVuKGRhdGEgPT4gewogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlclRlYW1zJywgSlNPTi5zdHJpbmdpZnkoZGF0YS5kYXRhKSk7CiAgICAgICAgICAgIHN0b3JlLnN0YXRlLnVzZXJzVGVhbURhdGEgPSBkYXRhLmRhdGE7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJvdXRlci5wdXNoKCcvJyk7CiAgICAgICAgfQogICAgICAgIGlmIChkYXRhLmRhdGEuc3RhdHVzKSB7CiAgICAgICAgICByb3V0ZXIucHVzaCgnL2Vycm9yLW1haWwnKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgaWYgKGVyci5yZXNwb25zZS5zdGF0dXMgPT0gNDIyKSB7CiAgICAgICAgICBlcnJvci52YWx1ZSA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CiAgICBjb25zdCBfX3JldHVybmVkX18gPSB7CiAgICAgIHJvdXRlciwKICAgICAgZm9ybVN0YXRlLAogICAgICBlcnJvciwKICAgICAgdXNlcmRhdGEsCiAgICAgIGhhbmRsZUxvZ2luLAogICAgICAkYXhpb3MsCiAgICAgIHVzZVJvdXRlciwKICAgICAgc3RvcmUsCiAgICAgIHJlZiwKICAgICAgcmVhY3RpdmUKICAgIH07CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX19yZXR1cm5lZF9fLCAnX19pc1NjcmlwdFNldHVwJywgewogICAgICBlbnVtZXJhYmxlOiBmYWxzZSwKICAgICAgdmFsdWU6IHRydWUKICAgIH0pOwogICAgcmV0dXJuIF9fcmV0dXJuZWRfXzsKICB9Cn07"},{"version":3,"names":["$axios","useRouter","store","ref","reactive","router","formState","state","registerFormState","error","userdata","handleLogin","token","localStorage","getItem","clear","push","post","email","password","then","data","access_token","setItem","JSON","stringify","user","value","userLoginData","get","id","userLoginRole","roles","name","permissions","window","dispatchEvent","CustomEvent","detail","storage","usersTeamData","status","catch","err","response"],"sources":["/Users/nguyenxuanhiep/Downloads/vue-argon-dashboard-main/src/views/Signin.vue"],"sourcesContent":["<script setup>\nimport {$axios} from '../utils/request'\nimport { useRouter } from 'vue-router'\nimport store from '../store/store'\nconst router = useRouter()\n\nimport {\n  ref,reactive\n} from \"vue\";\n\nconst formState = reactive(store.state.registerFormState)\nlet error = ref(false);\nlet userdata = ref();\n\nconst handleLogin = ()=> {\n  const token = localStorage.getItem('token')\n  if (token){\n    localStorage.clear()\n    router.push('/login')\n  }\n  $axios.post('login',{\n    email:formState.email,\n    password:formState.password})\n      .then((data) => {\n        if (data.data.access_token){\n          localStorage.setItem('token',data.data.access_token)\n          localStorage.setItem('user',JSON.stringify(data.data.user) )\n          userdata.value = data.data.user\n          store.state.userLoginData = data.data.user\n          $axios.get(`/user/${userdata.value.id}?include=roles,permissions`).then((data) => {\n            store.state.userLoginRole = data.data.data.roles[0].name\n            localStorage.setItem('loginRole',store.state.userLoginRole)\n            localStorage.setItem('permissions',(JSON.stringify(data.data.data.permissions)))\n\n            window.dispatchEvent(new CustomEvent('role-added', {\n              detail: {\n                storage: localStorage.getItem('loginRole')\n              }\n            }));\n          })\n\n          $axios.get(`/get-team`).then((data) => {\n            localStorage.setItem('userTeams',(JSON.stringify(data.data)))\n            store.state.usersTeamData = data.data\n\n          })\n          router.push('/')\n\n        }if(data.data.status) {\n\n          router.push('/error-mail')\n        }\n      }).catch((err) => {\n    if(err.response.status == 422) {\n      error.value = true\n    }\n  });\n\n}\n</script>\n\n<template>\n  <main class=\"form-register\">\n    <h1 class=\"form-header\">Please log in</h1>\n    <form class=\"form-container\">\n      <div class=\"form-item\">\n        <label>Email</label>\n        <input v-model=\"formState.email\" type=\"email\" class=\"form-control\" name=\"email\" placeholder=\"name@example.com\">\n      </div>\n\n      <div class=\"form-item\">\n        <label>Password</label>\n        <input v-model=\"formState.password\" type=\"password\" class=\"form-control\" name=\"password\" placeholder=\"Password\">\n      </div>\n      <div v-if=\"error\" class=\"text-center\">\n        <span class=\"text-red-700\">Please enter your correct login information</span>\n      </div>\n\n      <div class=\"form-item\">\n        <button class=\"btn-main\" @click=\"handleLogin\" type=\"button\">Login</button>\n      </div>\n\n    </form>\n  </main>\n</template>\n\n<style>\n.form-signin {\n  width: 100%;\n  max-width: 330px;\n  padding: 15px;\n  margin: auto;\n}\n\n.form-signin .checkbox {\n  font-weight: 400;\n}\n\n.form-signin .form-floating:focus-within {\n  z-index: 2;\n}\n\n.form-signin input[type=\"email\"] {\n  margin-bottom: -1px;\n  border-bottom-right-radius: 0;\n  border-bottom-left-radius: 0;\n}\n\n.form-signin input[type=\"password\"] {\n  margin-bottom: 10px;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n}\n.form-register {\n  width: 100%;\n  max-width: 600px;\n  padding: 0px;\n  margin: 10px auto auto auto;\n  background-color: #75C2F6;\n  border-radius: 0px 0px 15px 15px;\n}\n.form-header{\n  background-color: #1D5D9B;\n  color: white;\n  border-radius: 0px 0px 15px 15px;\n  padding: 10px;\n  text-align: center;\n}\n.btn-main{\n  background-color: #1D5D9B;\n  padding: 10px 0px 10px 0px;\n  height: 100%;\n  width: 30%;\n  border-radius: 20px;\n  border: none;\n  color: white;\n  text-align: center;\n}\n\n.errtext{\n  background-color: #ebeb39;\n  border-radius: 15px;\n  color: red;\n  width: 100%;\n  display: flex;\n  margin-bottom: 10px;\n  justify-content: center;\n}\n\n.form-item{\n  width: 100%;\n  display: flex;\n  margin-bottom: 10px;\n  color: white;\n  justify-content: center;\n\n}\n.form-item label{\n  background-color: #1D5D9B;\n  width: 30%;\n  border-radius: 15px 0px 0px 15px;\n  color: white;\n  text-align:left;\n  padding: 15px;\n}\n.form-item input{\n  width: 70%;\n  border-radius: 0px 15px 15px 0px;\n  background-color: #FDFDC9;\n}\n.form-item .form-floating:focus-within {\n  z-index: 2;\n}\n.form-container {\n  width: 100%;\n  background-color: #75C2F6;\n  padding: 10px 25px 5px 25px;\n  box-shadow: -30px 30px 20px rgba(0, 0, 0, 0.2);\n  border-radius: 0px 0px 15px 15px;\n}\n</style>\n"],"mappings":"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"}]}